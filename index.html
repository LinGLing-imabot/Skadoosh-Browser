<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Skadoosh Browser</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåê</text></svg>" />
<style>
/* ---------- FULL CSS (same as previous) ---------- */
* { margin:0;padding:0;box-sizing:border-box;}
body{font-family:system-ui,-apple-system,sans-serif;background:#000;color:#fff;overflow:hidden;width:100vw;height:100vh;}
a{text-decoration:none;color:inherit;}
button{cursor:pointer;font-family:inherit;}
.particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;}
.particle{position:absolute;width:10px;height:10px;background:#fff;border-radius:50%;opacity:0.8;animation:twinkle 3s ease-in-out infinite;}
@keyframes twinkle{0%,100%{opacity:0.3;}50%{opacity:1;}}
#home{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(0,0,0,0.95) 0%, rgba(26,26,26,0.95) 100%);}
#home.hidden{display:none;}
.home-header{position:fixed;top:1.5rem;right:1.5rem;display:flex;gap:1rem;z-index:10;}
.icon-btn{background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.3);color:#fff;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all 0.3s;font-size:1.1rem;}
.icon-btn:hover{background:rgba(255,255,255,0.2);transform:scale(1.1);}
h1{font-size:2.8rem;margin-bottom:1.5rem;background:linear-gradient(45deg,#fff,#888);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center;}
.search{width:600px;max-width:90%;display:flex;gap:0.8rem;}
input{flex:1;padding:0.9rem 1.4rem;border:2px solid #444;border-radius:50px;background:rgba(26,26,26,0.8);color:#fff;font-size:1rem;outline:none;transition:border 0.3s;}
input:focus{border-color:#666;}
input::placeholder{color:#888;}
button{padding:0.9rem 2rem;border:none;border-radius:50px;background:#fff;color:#000;font-weight:bold;cursor:pointer;transition:all 0.3s;font-size:0.95rem;}
button:hover{background:#ddd;transform:translateY(-2px);}
#browser{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2;display:none;flex-direction:column;background:#000;}
#browser.active{display:flex;}
.toolbar{display:flex;background:#0a0a0a;border-bottom:1px solid #222;padding:0.6rem;gap:0.5rem;align-items:center;flex-shrink:0;}
.toolbar button{padding:0.6rem 1rem;border-radius:8px;background:#1a1a1a;color:#fff;font-size:0.95rem;border:1px solid #333;}
.toolbar button:hover{background:#2a2a2a;transform:none;}
.url-bar{flex:1;padding:0.6rem 1rem;background:#1a1a1a;border:1px solid #333;border-radius:8px;color:#fff;font-size:0.95rem;}
.tabs{display:flex;background:#0a0a0a;border-bottom:1px solid #222;overflow-x:auto;flex-shrink:0;scrollbar-width:thin;scrollbar-color:#333 #0a0a0a;}
.tabs::-webkit-scrollbar{height:6px;}
.tabs::-webkit-scrollbar-track{background:#0a0a0a;}
.tabs::-webkit-scrollbar-thumb{background:#333;border-radius:3px;}
.tab{display:flex;align-items:center;gap:0.8rem;padding:0.8rem 1.2rem;background:#1a1a1a;border-right:1px solid #222;cursor:pointer;white-space:nowrap;min-width:180px;max-width:220px;transition:background 0.2s;flex-shrink:0;}
.tab:hover{background:#252525;}
.tab.active{background:#2a2a2a;border-bottom:3px solid #fff;}
.tab-title{flex:1;overflow:hidden;text-overflow:ellipsis;font-size:0.9rem;color:#ccc;}
.tab.active .tab-title{color:#fff;}
.tab-close{color:#666;cursor:pointer;padding:0.2rem 0.4rem;font-weight:bold;font-size:1.1rem;transition:color 0.2s;}
.tab-close:hover{color:#fff;}
.new-tab{padding:0.8rem 1.5rem;background:#1a1a1a;color:#888;cursor:pointer;font-size:1.2rem;flex-shrink:0;transition:all 0.2s;}
.new-tab:hover{background:#252525;color:#fff;}
.content{flex:1;position:relative;background:#fff;overflow:hidden;}
.tab-page{display:none;width:100%;height:100%;position:absolute;top:0;left:0;}
.tab-page.active{display:flex;flex-direction:column;}
iframe{width:100%;height:100%;border:none;flex:1;}
.new-tab-page{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;background:#f5f5f5;}
.new-tab-page h2{color:#333;margin-bottom:2rem;font-size:1.6rem;}
.new-tab-search{width:550px;max-width:90%;display:flex;gap:0.8rem;}
.new-tab-search input{background:#fff;border:2px solid #ddd;color:#333;}
.new-tab-search input::placeholder{color:#999;}
.new-tab-search button{background:#333;color:#fff;}
.new-tab-search button:hover{background:#444;}
.loading{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#666;font-size:1.3rem;font-weight:500;text-align:center;}
.loading button{margin:0.5rem;padding:0.7rem 1.5rem;font-size:0.9rem;}
</style>
</head>
<body>

<div class="particles" id="particles"></div>

<div id="home">
  <div class="home-header">
    <button class="icon-btn" id="settingsBtn" title="Settings">‚öôÔ∏è</button>
    <button class="icon-btn" id="sourceBtn" title="Source">üìÑ</button>
  </div>
  <h1>Skadoosh Browser</h1>
  <div class="search">
    <input type="text" id="homeSearch" placeholder="Search the web..." />
    <button id="homeGo">Go</button>
  </div>
</div>

<div id="browser">
  <div class="toolbar">
    <button id="backBtn">‚óÄÔ∏è</button>
    <button id="forwardBtn">‚ñ∂Ô∏è</button>
    <button id="reloadBtn">üîÑ</button>
    <button id="homeBtn">üè†</button>
    <input type="text" class="url-bar" id="urlBar" placeholder="Enter URL..." />
    <button id="newTabBtn">‚ûï</button>
  </div>
  <div class="tabs" id="tabs"></div>
  <div class="content" id="tabContent"></div>
</div>

<!-- Settings Modal -->
<div id="settingsModal" style="display:none;">
  <div style="background:#1a1a1a;color:#fff;padding:2rem;border-radius:12px;width:500px;max-width:95vw;">
    <h2>Settings</h2>
    <label>Search Engine:
      <select id="searchEngineSelect">
        <option value="google" selected>Google</option>
        <option value="bing">Bing</option>
        <option value="duckduckgo">DuckDuckGo</option>
      </select>
    </label><br/><br/>
    <label><input type="checkbox" id="stealthMode"/> Stealth Mode</label><br/><br/>
    <label>Tab Title Cloak: <input type="text" id="cloakTitle"/></label><br/><br/>
    <label>Favicon Cloak: <input type="text" id="cloakFavicon"/></label><br/><br/>
    <button id="closeSettings">Close</button>
  </div>
</div>

<script>
// JS: particles
const particlesEl=document.getElementById("particles");
for(let i=0;i<50;i++){const p=document.createElement("div");p.className="particle";p.style.top=Math.random()*100+"%";p.style.left=Math.random()*100+"%";p.style.width=p.style.height=(2+Math.random()*4)+"px";p.style.animationDuration=(2+Math.random()*3)+"s";particlesEl.appendChild(p);}
// Tabs
let tabs=[],activeTab=null;
function createTab(url="about:blank",title="New Tab"){const tabId="tab"+Date.now();const tabEl=document.createElement("div");tabEl.className="tab";tabEl.id=tabId;tabEl.innerHTML=`<span class="tab-title">${title}</span><span class="tab-close">&times;</span>`;document.getElementById("tabs").appendChild(tabEl);const pageEl=document.createElement("div");pageEl.className="tab-page";pageEl.id="page-"+tabId;const iframe=document.createElement("iframe");iframe.src="/api/service?url="+encodeURIComponent(url);pageEl.appendChild(iframe);document.getElementById("tabContent").appendChild(pageEl);tabEl.querySelector(".tab-close").addEventListener("click",()=>closeTab(tabId));tabEl.addEventListener("click",()=>switchTab(tabId));tabs.push({id:tabId,tabEl,pageEl,iframe,url});switchTab(tabId);}
function switchTab(id){tabs.forEach(t=>{t.tabEl.classList.toggle("active",t.id===id);t.pageEl.classList.toggle("active",t.id===id);});activeTab=tabs.find(t=>t.id===id);if(activeTab)document.getElementById("urlBar").value=activeTab.url;}
function closeTab(id){const t=tabs.find(x=>x.id===id);if(!t)return;t.tabEl.remove();t.pageEl.remove();tabs=tabs.filter(x=>x.id!==id);if(activeTab.id===id&&tabs.length>0)switchTab(tabs[0].id);}
// Buttons
document.getElementById("homeGo").addEventListener("click",()=>{const q=document.getElementById("homeSearch").value.trim();if(q==="")return;openBrowser("https://www.google.com/search?q="+encodeURIComponent(q));});
document.getElementById("newTabBtn").addEventListener("click",()=>createTab());
document.getElementById("homeSearch").addEventListener("keypress",e=>{if(e.key==="Enter")document.getElementById("homeGo").click();});
function openBrowser(url){document.getElementById("home").classList.add("hidden");document.getElementById("browser").classList.add("active");createTab(url,"Loading...");}
openBrowser("https://www.google.com");
</script>
</body>
</html>
